const email = document.querySelector("#mail");
const mdp = document.querySelector("#password");
const btn = document.querySelector("button");
const errorMail = document.querySelector("#errorMail");
const errorPass = document.querySelector("#errorPass");

// console.log(btn, email, mdp);

// regex crÃ©ation
const regexMail = /^w+@[a-zA-Z_]+?.[a-zA-Z] {2,3}$/;
const regexmdp =
  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;

btn.addEventListener("click", (e) => {
  e.preventDefault();
  console.log(email.value);
  console.log(mdp.value);
  // log la valeur de la const Email

  if (!regexMail.test(email.value)) {
    console.log("mail invalide");
  } else {
    console.log("mail valide");
  }

  if (!regexmdp.test(mdp.value)) {
    console.log("mdp invalide");
  } else {
    console.log("mdp valide");
  }

  if (!regexMail.test(email.value)) {
    // (.test) test la valeur de l'email
    errorMail.innerHTML = "Mail invalide";
    email.classList.add("mailbis");
    //   } else {
    //     errorMail.innerHTML = "";
    //     email.classList.remove("mailbis");
  }
  if (!regexmdp.test(mdp.value)) {
    console.log(mdp.value);
    // (.test) teste la valeur du mdp

    errorPass.innerHTML = "Mot de passe invalide";
    mdp.classList.add("mailbis");
  }
});

// email.addEventListener("click", () => {
//   email.classList.remove("mailbis");
//   errorMail.innerHTML = "";
// });

// mdp.addEventListener("click", () => {
//   mdp.classList.remove("mailbis");
//   errorPass.innerHTML = "";
// });
